<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Gestão - Landing Page</title>
    <link id="admin-favicon" rel="icon" type="image/x-icon" href="https://placehold.co/32x32/1e293b/94a3b8?text=P">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden; /* Evita scroll no body principal */
        }
        .sidebar-link.active {
            background-color: #4f46e5;
            color: white;
            box-shadow: 0 4px 14px 0 rgba(79, 70, 229, 0.5);
        }
        .sidebar-link {
            transition: all 0.2s ease-in-out;
        }
        .sidebar-link:hover:not(.active) {
            background-color: #334155;
            transform: translateX(4px);
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
            animation: fadeIn 0.5s cubic-bezier(0.215, 0.610, 0.355, 1.000) forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px) scale(0.99); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        aside {
            transition: transform 0.3s ease-in-out;
        }
        .form-panel {
            background-color: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(100, 116, 139, 0.3);
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 20px 30px -10px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        @media (min-width: 1024px) {
            .form-panel { padding: 2rem; }
        }
        .aurora-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            background: #0f172a; overflow: hidden;
        }
        .aurora-bg::before, .aurora-bg::after {
            content: ''; position: absolute; width: 800px; height: 800px; border-radius: 50%;
            filter: blur(120px); mix-blend-mode: screen; animation: aurora-move 20s infinite linear;
        }
        .aurora-bg::before { background: radial-gradient(circle, rgba(79, 70, 229, 0.3) 0%, rgba(79, 70, 229, 0) 60%); top: -20%; left: -20%; }
        .aurora-bg::after { background: radial-gradient(circle, rgba(30, 64, 175, 0.3) 0%, rgba(30, 64, 175, 0) 60%); bottom: -20%; right: -20%; animation-delay: -10s; }
        @keyframes aurora-move {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(100px, 100px) rotate(180deg); }
        }
        .form-input {
            background-color: rgba(30, 41, 59, 0.7);
            border: 1px solid #334155;
            transition: all 0.2s ease-in-out;
        }
        .form-input:focus {
            background-color: rgba(30, 41, 59, 1);
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.5);
            outline: none;
        }
        input[type="color"].form-input { padding: 0.25rem; }
        .toggle-checkbox:checked + .toggle-label { background-color: #4f46e5; }
        .toggle-checkbox:checked + .toggle-label .dot { transform: translateX(100%); }
    </style>
</head>

<body class="bg-slate-900 text-slate-300">

    <div class="aurora-bg"></div>

    <div id="auth-layer" class="fixed inset-0 bg-slate-900 z-50 flex items-center justify-center p-4">
        <div id="auth-message" class="text-center p-8 bg-slate-800/80 backdrop-blur-sm border border-slate-700 rounded-lg shadow-2xl max-w-sm w-full">
            <h2 class="text-xl font-bold mb-4 text-white">A verificar autenticação...</h2>
            <p class="text-slate-400">Por favor, aguarde.</p>
        </div>
    </div>

    <div id="main-content" class="hidden relative min-h-screen lg:flex">
        <aside id="sidebar" class="w-64 bg-slate-800/80 backdrop-blur-sm border-r border-slate-700 text-slate-200 flex-col fixed inset-y-0 left-0 z-40 transform -translate-x-full lg:relative lg:translate-x-0 flex shadow-lg">
            <div class="px-6 py-4 border-b border-slate-700">
                <h1 class="text-2xl font-bold text-white">Painel de Gestão</h1>
                <p id="user-email" class="text-sm text-slate-400 truncate">Landing Page</p>
            </div>
            <nav class="flex-1 px-4 py-4 space-y-2 overflow-y-auto">
                <a href="#" class="sidebar-link active flex items-center rounded-lg px-4 py-2" data-section="hero"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>Início (Hero)</a>
                <a href="#" class="sidebar-link flex items-center rounded-lg px-4 py-2" data-section="style"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path></svg>Estilo</a>
                <a href="#" class="sidebar-link flex items-center rounded-lg px-4 py-2" data-section="social-proof"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>Prova Social</a>
                <a href="#" class="sidebar-link flex items-center rounded-lg px-4 py-2" data-section="about"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>Sobre</a>
                <a href="#" class="sidebar-link flex items-center rounded-lg px-4 py-2" data-section="services"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>Serviços</a>
                <a href="#" class="sidebar-link flex items-center rounded-lg px-4 py-2" data-section="testimonials"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>Depoimentos</a>
                <a href="#" class="sidebar-link flex items-center rounded-lg px-4 py-2" data-section="faq"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>FAQ</a>
                <a href="#" class="sidebar-link flex items-center rounded-lg px-4 py-2" data-section="cta"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"></path></svg>CTA Final</a>
                <a href="#" class="sidebar-link flex items-center rounded-lg px-4 py-2" data-section="footer"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>Rodapé</a>
            </nav>
            <div class="mt-auto px-4 py-4 border-t border-slate-700">
                <a href="#" id="logout-button" class="sidebar-link flex items-center rounded-lg px-4 py-2"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>Sair</a>
            </div>
        </aside>

        <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden lg:hidden"></div>
        
        <div class="flex-1 flex flex-col lg:flex-row w-full">
            <header class="lg:hidden bg-slate-800/80 backdrop-blur-sm border-b border-slate-700 text-white p-4 flex justify-between items-center sticky top-0 z-20 shadow-md">
                <h1 class="text-xl font-bold">Painel de Gestão</h1>
                <button id="mobile-menu-button">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </header>

            <!-- Coluna de Formulários -->
            <main id="form-column" class="flex-1 p-4 sm:p-6 lg:p-10 overflow-y-auto lg:w-1/2 lg:h-screen">
                <div id="section-hero" class="content-section active">
                    <div class="form-panel">
                        <h2 class="text-2xl font-bold text-white border-b border-slate-700 pb-4">Editar Seção Inicial (Hero)</h2>
                        <div><label for="hero-title" class="block text-sm font-medium text-slate-400">Título Principal</label><textarea id="hero-title" rows="3" class="mt-1 block w-full rounded-md shadow-sm form-input text-slate-200"></textarea></div>
                        <div><label for="hero-subtitle" class="block text-sm font-medium text-slate-400">Subtítulo</label><textarea id="hero-subtitle" rows="3" class="mt-1 block w-full rounded-md shadow-sm form-input text-slate-200"></textarea></div>
                        <div class="grid md:grid-cols-2 gap-6 pt-4 border-t border-slate-700">
                            <div><label for="hero-cta1-text" class="block text-sm font-medium text-slate-400">Texto do Botão 1 (Primário)</label><input type="text" id="hero-cta1-text" class="mt-1 block w-full rounded-md shadow-sm form-input text-slate-200"></div>
                            <div><label for="hero-cta1-link" class="block text-sm font-medium text-slate-400">URL do Botão 1</label><input type="url" id="hero-cta1-link" class="mt-1 block w-full rounded-md shadow-sm form-input text-slate-200" placeholder="https://"></div>
                            <div><label for="hero-cta2-text" class="block text-sm font-medium text-slate-400">Texto do Botão 2 (Secundário)</label><input type="text" id="hero-cta2-text" class="mt-1 block w-full rounded-md shadow-sm form-input text-slate-200"></div>
                            <div><label for="hero-cta2-link" class="block text-sm font-medium text-slate-400">URL do Botão 2</label><input type="url" id="hero-cta2-link" class="mt-1 block w-full rounded-md shadow-sm form-input text-slate-200" placeholder="https://"></div>
                        </div>
                        <div class="pt-4 border-t border-slate-700"><label for="hero-image" class="block text-sm font-medium text-slate-400">URL da Imagem</label><input type="text" id="hero-image" class="mt-1 block w-full rounded-md shadow-sm form-input text-slate-200" placeholder="https://exemplo.com/imagem.png"></div>
                        <div class="flex justify-end pt-6 border-t border-slate-700"><button id="save-hero" class="save-button">Salvar Alterações</button></div>
                    </div>
                </div>

                <div id="section-style" class="content-section">
                    <div class="form-panel">
                        <h2 class="text-2xl font-bold text-white border-b border-slate-700 pb-4">Customização Visual</h2>
                        <div class="space-y-8">
                            <div>
                                <h3 class="text-lg font-semibold text-white mb-4">Paleta de Cores e Fundo</h3>
                                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-4">
                                    <div><label for="style-bg-color" class="block text-sm font-medium text-slate-400 mb-1">Fundo da Página</label><input type="color" id="style-bg-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-text-color" class="block text-sm font-medium text-slate-400 mb-1">Texto Principal</label><input type="color" id="style-text-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-header-bg-color" class="block text-sm font-medium text-slate-400 mb-1">Fundo Cabeçalho</label><input type="color" id="style-header-bg-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-header-text-color" class="block text-sm font-medium text-slate-400 mb-1">Links Cabeçalho</label><input type="color" id="style-header-text-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-primary-btn-bg-color" class="block text-sm font-medium text-slate-400 mb-1">Fundo Botão Primário</label><input type="color" id="style-primary-btn-bg-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-primary-btn-text-color" class="block text-sm font-medium text-slate-400 mb-1">Texto Botão Primário</label><input type="color" id="style-primary-btn-text-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-secondary-btn-bg-color" class="block text-sm font-medium text-slate-400 mb-1">Fundo Botão Secundário</label><input type="color" id="style-secondary-btn-bg-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-secondary-btn-text-color" class="block text-sm font-medium text-slate-400 mb-1">Texto Botão Secundário</label><input type="color" id="style-secondary-btn-text-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-about-bg-color" class="block text-sm font-medium text-slate-400 mb-1">Fundo Seção "Sobre"</label><input type="color" id="style-about-bg-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-about-steps-bg-color" class="block text-sm font-medium text-slate-400 mb-1">Fundo Cards "Sobre"</label><input type="color" id="style-about-steps-bg-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-about-steps-text-color" class="block text-sm font-medium text-slate-400 mb-1">Texto Cards "Sobre"</label><input type="color" id="style-about-steps-text-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-testimonials-bg-color" class="block text-sm font-medium text-slate-400 mb-1">Fundo Seção "Depoimentos"</label><input type="color" id="style-testimonials-bg-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-testimonials-card-bg-color" class="block text-sm font-medium text-slate-400 mb-1">Fundo Cards Depoimentos</label><input type="color" id="style-testimonials-card-bg-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-testimonials-card-text-color" class="block text-sm font-medium text-slate-400 mb-1">Texto Cards Depoimentos</label><input type="color" id="style-testimonials-card-text-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-cta-bg-color" class="block text-sm font-medium text-slate-400 mb-1">Fundo CTA Final</label><input type="color" id="style-cta-bg-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-cta-text-color" class="block text-sm font-medium text-slate-400 mb-1">Texto CTA Final</label><input type="color" id="style-cta-text-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-footer-bg-color" class="block text-sm font-medium text-slate-400 mb-1">Fundo Rodapé</label><input type="color" id="style-footer-bg-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-footer-headings-color" class="block text-sm font-medium text-slate-400 mb-1">Títulos Rodapé</label><input type="color" id="style-footer-headings-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-footer-text-color" class="block text-sm font-medium text-slate-400 mb-1">Texto Rodapé</label><input type="color" id="style-footer-text-color" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                </div>
                            </div>
                            <div class="border-t border-slate-700 pt-8">
                                <h3 class="text-lg font-semibold text-white mb-4">Efeitos Especiais</h3>
                                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-4">
                                    <div><label for="style-aurora-color1" class="block text-sm font-medium text-slate-400 mb-1">Aurora - Cor 1</label><input type="color" id="style-aurora-color1" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-aurora-color2" class="block text-sm font-medium text-slate-400 mb-1">Aurora - Cor 2</label><input type="color" id="style-aurora-color2" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div class="lg:col-span-1"></div>
                                    <div><label for="style-gradient-color1" class="block text-sm font-medium text-slate-400 mb-1">Gradiente Título - Cor 1</label><input type="color" id="style-gradient-color1" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                    <div><label for="style-gradient-color2" class="block text-sm font-medium text-slate-400 mb-1">Gradiente Título - Cor 2</label><input type="color" id="style-gradient-color2" class="w-full h-10 rounded-md border-slate-600 shadow-sm form-input p-1"></div>
                                </div>
                            </div>
                            
                            <div class="border-t border-slate-700 pt-8">
                                <h3 class="text-lg font-semibold text-white mb-6">Tipografia</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-8">
                                    <div class="space-y-2">
                                        <label class="flex justify-between items-center text-sm font-medium text-slate-400"><span>Títulos Principais</span><span id="style-size-headings-value" class="text-xs text-slate-500"></span></label>
                                        <select id="style-font-headings" class="w-full rounded-md shadow-sm form-input text-slate-200">
                                            <option value="'Poppins', sans-serif">Poppins</option><option value="'Montserrat', sans-serif">Montserrat</option><option value="'Lato', sans-serif">Lato</option><option value="'Playfair Display', serif">Playfair Display</option><option value="'Merriweather', serif">Merriweather</option><option value="'Lora', serif">Lora</option><option value="'Roboto Mono', monospace">Roboto Mono</option><option value="'Inter', sans-serif">Inter</option>
                                        </select>
                                        <input type="range" id="style-size-headings" min="24" max="72" step="1" class="w-full">
                                    </div>
                                    <div class="space-y-2">
                                        <label class="flex justify-between items-center text-sm font-medium text-slate-400"><span>Subtítulos de Seção</span><span id="style-size-subheadings-value" class="text-xs text-slate-500"></span></label>
                                        <select id="style-font-subheadings" class="w-full rounded-md shadow-sm form-input text-slate-200">
                                           <option value="'Poppins', sans-serif">Poppins</option><option value="'Montserrat', sans-serif">Montserrat</option><option value="'Lato', sans-serif">Lato</option><option value="'Playfair Display', serif">Playfair Display</option><option value="'Merriweather', serif">Merriweather</option><option value="'Lora', serif">Lora</option><option value="'Roboto Mono', monospace">Roboto Mono</option><option value="'Inter', sans-serif">Inter</option>
                                        </select>
                                        <input type="range" id="style-size-subheadings" min="16" max="36" step="1" class="w-full">
                                    </div>
                                    <div class="space-y-2">
                                        <label class="flex justify-between items-center text-sm font-medium text-slate-400"><span>Corpo de Texto (Padrão)</span><span id="style-size-body-value" class="text-xs text-slate-500"></span></label>
                                        <select id="style-font-body" class="w-full rounded-md shadow-sm form-input text-slate-200">
                                            <option value="'Poppins', sans-serif">Poppins</option><option value="'Montserrat', sans-serif">Montserrat</option><option value="'Lato', sans-serif">Lato</option><option value="'Playfair Display', serif">Playfair Display</option><option value="'Merriweather', serif">Merriweather</option><option value="'Lora', serif">Lora</option><option value="'Roboto Mono', monospace">Roboto Mono</option><option value="'Inter', sans-serif">Inter</option>
                                        </select>
                                        <input type="range" id="style-size-body" min="14" max="20" step="1" class="w-full">
                                    </div>
                                    <div class="space-y-2">
                                        <label class="flex justify-between items-center text-sm font-medium text-slate-400"><span>Botões e Links</span><span id="style-size-buttons-value" class="text-xs text-slate-500"></span></label>
                                        <select id="style-font-buttons" class="w-full rounded-md shadow-sm form-input text-slate-200">
                                           <option value="'Poppins', sans-serif">Poppins</option><option value="'Montserrat', sans-serif">Montserrat</option><option value="'Lato', sans-serif">Lato</option><option value="'Playfair Display', serif">Playfair Display</option><option value="'Merriweather', serif">Merriweather</option><option value="'Lora', serif">Lora</option><option value="'Roboto Mono', monospace">Roboto Mono</option><option value="'Inter', sans-serif">Inter</option>
                                        </select>
                                        <input type="range" id="style-size-buttons" min="14" max="24" step="1" class="w-full">
                                    </div>
                                    <div class="space-y-2">
                                        <label class="flex justify-between items-center text-sm font-medium text-slate-400"><span>Títulos dos Cards</span><span id="style-size-card-titles-value" class="text-xs text-slate-500"></span></label>
                                        <select id="style-font-card-titles" class="w-full rounded-md shadow-sm form-input text-slate-200">
                                           <option value="'Poppins', sans-serif">Poppins</option><option value="'Montserrat', sans-serif">Montserrat</option><option value="'Lato', sans-serif">Lato</option><option value="'Playfair Display', serif">Playfair Display</option><option value="'Merriweather', serif">Merriweather</option><option value="'Lora', serif">Lora</option><option value="'Roboto Mono', monospace">Roboto Mono</option><option value="'Inter', sans-serif">Inter</option>
                                        </select>
                                        <input type="range" id="style-size-card-titles" min="16" max="32" step="1" class="w-full">
                                    </div>
                                    <div class="space-y-2">
                                        <label class="flex justify-between items-center text-sm font-medium text-slate-400"><span>Texto Utilitário (Pequeno)</span><span id="style-size-utility-value" class="text-xs text-slate-500"></span></label>
                                        <select id="style-font-utility" class="w-full rounded-md shadow-sm form-input text-slate-200">
                                            <option value="'Poppins', sans-serif">Poppins</option><option value="'Montserrat', sans-serif">Montserrat</option><option value="'Lato', sans-serif">Lato</option><option value="'Playfair Display', serif">Playfair Display</option><option value="'Merriweather', serif">Merriweather</option><option value="'Lora', serif">Lora</option><option value="'Roboto Mono', monospace">Roboto Mono</option><option value="'Inter', sans-serif">Inter</option>
                                        </select>
                                        <input type="range" id="style-size-utility" min="12" max="16" step="1" class="w-full">
                                    </div>
                                </div>
                            </div>

                            <div class="border-t border-slate-700 pt-8">
                                <h3 class="text-lg font-semibold text-white mb-4">Imagem de Fundo</h3>
                                <div>
                                    <label for="style-bg-image" class="block text-sm font-medium text-slate-400 mb-1">URL da Imagem de Fundo (Opcional)</label>
                                    <input type="text" id="style-bg-image" class="block w-full rounded-md shadow-sm form-input text-slate-200" placeholder="https://...">
                                    <p class="mt-2 text-xs text-slate-500">Substitui a cor de fundo da página e o efeito aurora.</p>
                                </div>
                            </div>
                            
                            <div class="border-t border-slate-700 pt-8">
                                <h3 class="text-lg font-semibold text-white mb-4">Animações e Efeitos Visuais</h3>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <div>
                                        <label for="animate-aurora-effect-toggle" class="flex items-center cursor-pointer">
                                            <div class="relative"><input type="checkbox" id="animate-aurora-effect-toggle" class="sr-only toggle-checkbox"><div class="block bg-slate-600 w-14 h-8 rounded-full toggle-label transition"><div class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition transform"></div></div></div>
                                            <div class="ml-3 text-white font-medium">Efeito de Fundo (Aurora)</div>
                                        </label>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="flex justify-end pt-6 border-t border-slate-700 mt-8"><button id="save-style" class="save-button">Salvar Alterações de Estilo</button></div>
                    </div>
                </div>
                
                <!-- Demais seções (social, about, etc.) aqui dentro de #form-column -->
                <div id="section-social-proof" class="content-section"><!-- Conteúdo aqui --></div>
                <div id="section-about" class="content-section"><!-- Conteúdo aqui --></div>
                <div id="section-services" class="content-section"><!-- Conteúdo aqui --></div>
                <div id="section-testimonials" class="content-section"><!-- Conteúdo aqui --></div>
                <div id="section-faq" class="content-section"><!-- Conteúdo aqui --></div>
                <div id="section-cta" class="content-section"><!-- Conteúdo aqui --></div>
                <div id="section-footer" class="content-section"><!-- Conteúdo aqui --></div>
            </main>

            <!-- Coluna de Pré-visualização -->
            <div class="hidden lg:flex lg:w-1/2 p-6 flex-col">
                <div class="sticky top-6 h-[calc(100vh-3rem)] w-full flex flex-col">
                     <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-bold text-white">Pré-visualização em Tempo Real</h2>
                        <button id="refresh-preview" class="p-2 rounded-full hover:bg-slate-700 transition" title="Recarregar Pré-visualização">
                            <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h5M20 20v-5h-5M20 4h-5v5M4 20h5v-5"></path></svg>
                        </button>
                    </div>
                    <div class="w-full flex-1 bg-white rounded-lg overflow-hidden shadow-2xl border-4 border-slate-700">
                        <iframe id="preview-iframe" src="./index.html" class="w-full h-full border-0"></iframe>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div id="toast" class="fixed bottom-5 right-5 bg-green-500 text-white py-3 px-5 rounded-lg shadow-2xl transition-all duration-300 opacity-0 transform translate-y-4 flex items-center border border-green-400">
        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        <span id="toast-message"></span>
    </div>
    
    <script src="./firebase-config.js"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        const app = initializeApp(window.firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const contentDocRef = doc(db, "landingPage", "content");

        const main = () => {
            const authLayer = document.getElementById('auth-layer');
            const authMessage = document.getElementById('auth-message');
            const mainContent = document.getElementById('main-content');
            const sidebarLinks = document.querySelectorAll('.sidebar-link');
            const contentSections = document.querySelectorAll('.content-section');
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const previewIframe = document.getElementById('preview-iframe');
            const refreshPreviewBtn = document.getElementById('refresh-preview');

            // Injetar estilos globais para botões
            const styleSheet = document.createElement("style");
            styleSheet.innerText = `
                .save-button { background-image: linear-gradient(to right, #4f46e5, #6366f1); color: white; font-weight: 600; padding: 0.6rem 1.5rem; border-radius: 9999px; cursor: pointer; text-align: center; box-shadow: 0 4px 15px 0 rgba(79, 70, 229, 0.4); transition: all 0.3s ease-in-out; display: inline-block; }
                .save-button:hover { transform: translateY(-2px); box-shadow: 0 8px 20px 0 rgba(79, 70, 229, 0.5); }
                .save-button:disabled { background-image: none; background-color: #3e38a4; cursor: not-allowed; box-shadow: none; transform: none; }
                .add-button { background-color: #10b981; color: white; font-weight: 600; padding: 0.5rem 1.25rem; border-radius: 9999px; transition: all 0.2s ease-in-out; display: inline-flex; align-items: center; }
                .add-button:hover { background-color: #059669; transform: scale(1.05); }
                .remove-button { background-color: #ef4444; color: white; font-weight: 600; border-radius: 9999px; width: 1.75rem; height: 1.75rem; display: inline-flex; align-items: center; justify-content: center; transition: all 0.2s ease-in-out; }
                .remove-button:hover { background-color: #dc2626; transform: scale(1.1); }
            `;
            document.head.appendChild(styleSheet);

            let pageData = {};

            const showToast = (message = "Alterações salvas com sucesso!", isError = false) => {
                toastMessage.textContent = message;
                toast.classList.toggle('bg-red-500', isError); toast.classList.toggle('border-red-400', isError);
                toast.classList.toggle('bg-green-500', !isError); toast.classList.toggle('border-green-400', !isError);
                toast.classList.remove('opacity-0', 'translate-y-4');
                setTimeout(() => { toast.classList.add('opacity-0', 'translate-y-4'); }, 3000);
            };

            const saveData = async () => {
                const saveButtons = document.querySelectorAll('.save-button');
                saveButtons.forEach(btn => { btn.disabled = true; btn.textContent = 'A guardar...'; });
                try {
                    const currentData = collectDataFromForms();
                    await setDoc(contentDocRef, currentData, { merge: true });
                    showToast();
                } catch (error) {
                    console.error("Erro ao salvar dados: ", error);
                    showToast("Ocorreu um erro ao salvar.", true);
                } finally {
                    saveButtons.forEach(btn => {
                        btn.disabled = false;
                        btn.textContent = btn.id === 'save-style' ? 'Salvar Alterações de Estilo' : 'Salvar Alterações';
                    });
                }
            };

            const populateForms = (data) => {
                const defaultD = getDefaultData();
                pageData = {
                    ...defaultD,
                    ...data,
                    style: { ...defaultD.style, ...(data.style || {}) },
                    hero: { ...defaultD.hero, ...(data.hero || {}) },
                    //... e assim por diante para todas as seções
                };

                // Preencher formulários (código omitido por brevidade, mas é o mesmo de antes)
            };
            
            const sendDataToPreview = () => {
                if(previewIframe && previewIframe.contentWindow) {
                    const currentData = collectDataFromForms();
                    previewIframe.contentWindow.postMessage(currentData, '*');
                }
            };
            
            const collectDataFromForms = () => {
                const typography = {
                    fontHeadings: document.getElementById('style-font-headings').value, sizeHeadings: document.getElementById('style-size-headings').value + 'px',
                    fontSubheadings: document.getElementById('style-font-subheadings').value, sizeSubheadings: document.getElementById('style-size-subheadings').value + 'px',
                    fontBody: document.getElementById('style-font-body').value, sizeBody: document.getElementById('style-size-body').value + 'px',
                    fontButtons: document.getElementById('style-font-buttons').value, sizeButtons: document.getElementById('style-size-buttons').value + 'px',
                    fontCardTitles: document.getElementById('style-font-card-titles').value, sizeCardTitles: document.getElementById('style-size-card-titles').value + 'px',
                    fontUtility: document.getElementById('style-font-utility').value, sizeUtility: document.getElementById('style-size-utility').value + 'px'
                };

                const style = {
                    backgroundColor: document.getElementById('style-bg-color').value,
                    backgroundImage: document.getElementById('style-bg-image').value,
                    // ... coletar todas as outras cores
                    animations: {
                        auroraEffect: document.getElementById('animate-aurora-effect-toggle').checked,
                    },
                    typography
                };

                const hero = {
                    title: document.getElementById('hero-title').value,
                    // ... coletar todos os outros campos do hero
                };

                // ... Coletar dados para socialProof, about, services, etc.

                return { hero, style, /* ...outras seções */ };
            };


            const loadData = async () => {
                try {
                    const docSnap = await getDoc(contentDocRef);
                    const data = docSnap.exists() ? docSnap.data() : getDefaultData();
                    populateForms(data);
                    // Envia os dados iniciais para o preview quando o iframe estiver pronto
                    previewIframe.onload = () => {
                        sendDataToPreview();
                    };
                    // Se o iframe já carregou, envia imediatamente
                    if (previewIframe.contentWindow) {
                         sendDataToPreview();
                    }
                } catch (error) {
                    console.error("Erro ao carregar dados: ", error);
                    showToast("Erro ao carregar os dados.", true);
                    populateForms(getDefaultData());
                }
            };

            const initializeAppUI = (user) => {
                authLayer.style.display = 'none';
                mainContent.classList.remove('hidden');
                document.getElementById('user-email').textContent = user.email;

                // Adicionar listeners para atualização em tempo real
                const formColumn = document.getElementById('form-column');
                formColumn.addEventListener('input', sendDataToPreview);

                // ... (resto da inicialização da UI: sidebar, logout, save buttons etc.)
                document.getElementById('save-hero').addEventListener('click', saveData);
                // ...
                refreshPreviewBtn.addEventListener('click', () => {
                    previewIframe.src += ''; // Recarrega o iframe
                });

                loadData();
            };

            onAuthStateChanged(auth, user => {
                if (user && user.emailVerified) {
                    initializeAppUI(user);
                } else if (user && !user.emailVerified) {
                    authMessage.innerHTML = `<h2 class="text-xl font-bold mb-4">Verifique o seu Email</h2><p class="text-slate-400 mb-4">Enviámos um link de verificação para <strong>${user.email}</strong>.</p><p class="text-slate-400">Por favor, clique no link para ativar a sua conta e depois atualize esta página.</p>`;
                } else {
                    window.location.href = './login.html';
                }
            });
        };

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', main);
        } else {
            main();
        }
    </script>
</body>
</html>
